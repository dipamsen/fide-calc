// 8.1.1      The table of conversion from fractional score, p, into rating differences, dp
const lookup: { [key: string]: number } = {
  "1.00": 800,
  ".99": 677,
  ".83": 273,
  ".66": 117,
  ".49": -7,
  ".32": -133,
  ".15": -296,
  ".82": 262,
  ".65": 110,
  ".48": -14,
  ".31": -141,
  ".14": -309,
  ".98": 589,
  ".81": 251,
  ".64": 102,
  ".47": -21,
  ".30": -149,
  ".13": -322,
  ".97": 538,
  ".80": 240,
  ".63": 95,
  ".46": -29,
  ".29": -158,
  ".12": -336,
  ".96": 501,
  ".79": 230,
  ".62": 87,
  ".45": -36,
  ".28": -166,
  ".11": -351,
  ".95": 470,
  ".78": 220,
  ".61": 80,
  ".44": -43,
  ".27": -175,
  ".10": -366,
  ".94": 444,
  ".77": 211,
  ".60": 72,
  ".43": -50,
  ".26": -184,
  ".09": -383,
  ".93": 422,
  ".76": 202,
  ".59": 65,
  ".42": -57,
  ".25": -193,
  ".08": -401,
  ".92": 401,
  ".75": 193,
  ".58": 57,
  ".41": -65,
  ".24": -202,
  ".07": -422,
  ".91": 383,
  ".74": 184,
  ".57": 50,
  ".40": -72,
  ".23": -211,
  ".06": -444,
  ".90": 366,
  ".73": 175,
  ".56": 43,
  ".39": -80,
  ".22": -220,
  ".05": -470,
  ".89": 351,
  ".72": 166,
  ".55": 36,
  ".38": -87,
  ".21": -230,
  ".04": -501,
  ".88": 336,
  ".71": 158,
  ".54": 29,
  ".37": -95,
  ".20": -240,
  ".03": -538,
  ".87": 322,
  ".70": 149,
  ".53": 21,
  ".36": -102,
  ".19": -251,
  ".02": -589,
  ".86": 309,
  ".69": 141,
  ".52": 14,
  ".35": -110,
  ".18": -262,
  ".01": -677,
  ".85": 296,
  ".68": 133,
  ".51": 7,
  ".34": -117,
  ".17": -273,
  ".00": -800,
  ".84": 284,
  ".67": 125,
  ".50": 0,
  ".33": -125,
  ".16": -284,
};

export function getDP(p: number): number {
  let pStr = p.toFixed(2);
  if (pStr.startsWith("0.")) {
    pStr = "." + pStr.slice(2);
  }
  return lookup[pStr];
}
