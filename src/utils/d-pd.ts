const lookup = {
  "0-3": 0.5,
  "92-98": 0.63,
  "198-206": 0.76,
  "345-357": 0.89,
  "4-10": 0.51,
  "99-106": 0.64,
  "207-215": 0.77,
  "358-374": 0.9,
  "11-17": 0.52,
  "107-113": 0.65,
  "216-225": 0.78,
  "375-391": 0.91,
  "18-25": 0.53,
  "114-121": 0.66,
  "226-235": 0.79,
  "392-411": 0.92,
  "26-32": 0.54,
  "122-129": 0.67,
  "236-245": 0.8,
  "412-432": 0.93,
  "33-39": 0.55,
  "130-137": 0.68,
  "246-256": 0.81,
  "433-456": 0.94,
  "40-46": 0.56,
  "138-145": 0.69,
  "257-267": 0.82,
  "457-484": 0.95,
  "47-53": 0.57,
  "146-153": 0.7,
  "268-278": 0.83,
  "485-517": 0.96,
  "54-61": 0.58,
  "154-162": 0.71,
  "279-290": 0.84,
  "518-559": 0.97,
  "62-68": 0.59,
  "163-170": 0.72,
  "291-302": 0.85,
  "560-619": 0.98,
  "69-76": 0.6,
  "171-179": 0.73,
  "303-315": 0.86,
  "620-735": 0.99,
  "77-83": 0.61,
  "180-188": 0.74,
  "316-328": 0.87,
  //   "> 735": 1.0,
  "84-91": 0.62,
  "189-197": 0.75,
  "329-344": 0.88,
};

// ratingDiff = player rating - opponent rating
// if positive, player is higher rated and has higher probability of winning
export function getPD(ratingDiff: number): number {
  let pd = 0;
  let diff = Math.abs(ratingDiff);
  if (diff > 400) {
    diff = 400; // 400 point rule
  }
  Object.entries(lookup).forEach(([key, value]) => {
    let [a, b] = key.split("-");
    if (diff >= Number(a) && diff <= Number(b)) {
      pd = value;
    }
  });
  return ratingDiff > 0 ? pd : 1 - pd;
}
